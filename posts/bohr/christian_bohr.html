<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nicolas Blais St-Laurent">

<title>Christian Bohr était dans les patates – Carnet de Nicolas</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../img/favicon/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-3a01e2046221230fdceeea94b1ec5d67.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-00e5184a9d3a047fde315d141c08306d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer",
    "search-label": "Recherche"
  }
}</script>


<link rel="stylesheet" href="../../awesomestyle.css">
<meta property="og:title" content="Christian Bohr était dans les patates – Carnet de Nicolas">
<meta property="og:description" content="Mais pas au sujet de l’espace mort">
<meta property="og:site_name" content="Carnet de Nicolas">
<meta name="twitter:title" content="Christian Bohr était dans les patates – Carnet de Nicolas">
<meta name="twitter:description" content="Mais pas au sujet de l’espace mort">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../img/logo/Nébuliseur2-simple.svg" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Recherche"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Basculer la navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Projets</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../billets.html"> 
<span class="menu-text">Billets</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../diapo.html"> 
<span class="menu-text">Diapositives</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Autres formats</h2><ul><li><a href="christian_bohr.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Christian Bohr était dans les patates</h1>
<p class="subtitle lead">Mais pas au sujet de l’espace mort</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Auteur</div>
    <div class="quarto-title-meta-contents">
             <p>Nicolas Blais St-Laurent </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Date de publication</div>
    <div class="quarto-title-meta-contents">
      <p class="date">1 octobre 2023</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Je dois presque tout ce que je sais au sujet du physiologiste danois Christian Bohr à un article écrit par un certain John B. <span class="citation" data-cites="west2019">West (<a href="#ref-west2019" role="doc-biblioref">2019</a>)</span>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> La raison en étant que, comme la majorité des gens faisant référence à Bohr, je ne maîtrise pas l’allemand, langue dans laquelle s’exprimait celui-ci. Et que Bohr est, à ce qu’on dit, passablement ardu à lire – même quand on maîtrise l’allemand.</p>

<div class="no-row-height column-margin column-container"><div class="" data-when-format="html">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Christian_Bohr_u016.jpg" class="img-fluid figure-img" style="width:5cm"></p>
<figcaption>Christian Bohr (1855-1911) Source: <a href="https://commons.wikimedia.org/wiki/File:Christian_Bohr_u016a.jpg">Wikimedia Commons</a></figcaption>
</figure>
</div>
</div></div><p>Bohr a publié en 1891 une formule qui est encore utilisée à ce jour pour calculer l’espace mort <span class="citation" data-cites="bohr1891">(<a href="#ref-bohr1891" role="doc-biblioref">Bohr 1891</a>)</span>. Cette formule est basée sur la loi de Boyle-Mariotte. Selon cette loi, pour une quantité donnée de gaz, le produit de la pression P1 dans un volume V1 est égale au produit de la pression P2 le volume V2.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub><mo>⋅</mo><msub><mi>V</mi><mn>1</mn></msub><mo>=</mo><msub><mi>P</mi><mn>2</mn></msub><mo>⋅</mo><msub><mi>V</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">P_1 \cdot V_1 = P_2 \cdot V_2</annotation></semantics></math></p>
<p>Appliquée à l’espace mort (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>V</mi><mrow><mi>E</mi><mi>M</mi></mrow></msub><annotation encoding="application/x-tex">V_{EM}</annotation></semantics></math>), cela nous permet de savoir que la pression partielle de CO₂ dans les alvéoles (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>A</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">P_ACO_2</annotation></semantics></math>) multipliée par le volume la portion du volume courant participant aux échanges gazeux (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><msub><mi>c</mi><mrow><mi>a</mi><mi>l</mi><mi>v</mi></mrow></msub></mrow><annotation encoding="application/x-tex">Vc_{alv}</annotation></semantics></math>) est égal à la pression partielle de CO₂ dans l’air expiré (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>E</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">P_ECO_2</annotation></semantics></math>) multipliée par le volume courant (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">Vc</annotation></semantics></math>).</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>A</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub><mo>⋅</mo><mi>V</mi><msub><mi>c</mi><mrow><mi>a</mi><mi>l</mi><mi>v</mi></mrow></msub><mo>=</mo><msub><mi>P</mi><mi>E</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub><mo>⋅</mo><mi>V</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">P_ACO_2 \cdot Vc_{alv} = P_ECO_2 \cdot Vc</annotation></semantics></math></p>
<p>Et donc</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>V</mi><mi>C</mi><mi>a</mi><mi>l</mi><mi>v</mi></mrow><mrow><mi>V</mi><mi>c</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><msub><mi>P</mi><mi>E</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><mrow><msub><mi>P</mi><mi>A</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{VCalv}{Vc} = \frac{P_ECO_2}{P_ACO_2}
</annotation></semantics></math></p>
<p>Sachant que</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>V</mi><mrow><mi>E</mi><mi>M</mi></mrow></msub><mrow><mi>V</mi><mi>c</mi></mrow></mfrac><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mrow><mi>V</mi><msub><mi>C</mi><mrow><mi>a</mi><mi>l</mi><mi>v</mi></mrow></msub></mrow><mrow><mi>V</mi><mi>c</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{V_{EM}}{Vc} = 1 - \frac{VC_{alv}}{Vc}
</annotation></semantics></math></p>
<p>On obtient</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>V</mi><mrow><mi>E</mi><mi>M</mi></mrow></msub><mrow><mi>V</mi><mi>c</mi></mrow></mfrac><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mrow><msub><mi>P</mi><mi>E</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><mrow><msub><mi>P</mi><mi>A</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{V_{EM}}{Vc} = 1 - \frac{P_ECO_2}{P_ACO_2}
</annotation></semantics></math></p>
<p>Ou</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>V</mi><mrow><mi>E</mi><mi>M</mi></mrow></msub><mrow><mi>V</mi><mi>c</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><msub><mi>P</mi><mi>A</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub><mo>−</mo><msub><mi>P</mi><mi>E</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><mrow><msub><mi>P</mi><mi>A</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{V_{EM}}{Vc} = \frac{P_ACO_2 - P_ECO_2}{P_ACO_2}
</annotation></semantics></math></p>
<p>La formule de Bohr n’est pas parfaite. L’une de ses limitations est le fait qu’elle ne permette pas, dans sa forme originale, de mesurer un éventuel espace mort alvéolaire. En effet, si l’on compare la PCO₂ expirée moyenne (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>E</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">P_ECO_2</annotation></semantics></math>) à la PCO₂ alvéolaire <em>moyenne</em> (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>A</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">P_ACO_2</annotation></semantics></math>)<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, cela ne permet pas trouver dans quelle mesure cette PCO₂ alvéolaire est influencée par un éventuel espace mort alvéolaire <span class="citation" data-cites="tang2005">(<a href="#ref-tang2005" role="doc-biblioref">Tang, Turner, et Baker 2005</a>)</span>. Il faut garder à l’esprit que Bohr étudiait la physiologie et non la physiopathologie du poumon. Il n’envisageait probablement pas la possibilité qu’il existe un espace mort alvéolaire.</p>
<p>La seconde limitation de la formule de Bohr est la difficulté de connaître la PCO₂ alvéolaire. L’approche utilisée par Bohr à ce sujet a été d’échantillonner le gaz dans la trachée, au niveau de la carène (d’un chien).</p>
<p>Le physiologiste suédois Henrik Enghoff apportera une solution pratique au problème de la PCO₂ alvéolaire en suggérant de la remplacer par la PCO₂ artérielle (<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>a</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">P_aCO_2</annotation></semantics></math>) <span class="citation" data-cites="enghoff1938">(<a href="#ref-enghoff1938" role="doc-biblioref">Enghoff 1938</a>)</span>.</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>V</mi><mrow><mi>E</mi><mi>M</mi></mrow></msub><mrow><mi>V</mi><mi>c</mi></mrow></mfrac><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><mrow><msub><mi>P</mi><mi>E</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><mrow><msub><mi>P</mi><mi>a</mi></msub><mi>C</mi><msub><mi>O</mi><mn>2</mn></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">
\frac{V_{EM}}{Vc} = 1 - \frac{P_ECO_2}{P_aCO_2}
</annotation></semantics></math></p>
<p>Ces deux pressions partielles sont, en effet, quasi identiques. Du moins dans des conditions normales. Outre son côté pratique, la solution proposée par Enghoff a aussi l’avantage de mesurer l’espace mort anatomique <em>et</em> alvéolaire.</p>
<p>On a reproché à cette solution de donner un résultat non seulement influencé par l’espace mort mais aussi par un éventuel <em>shunt</em> droit-gauche. Ceci peut être perçu à la fois comme une limitation et comme un avantage, ce calcul fournissant un index global de l’inefficacité des échanges gazeux, sans égard à la cause spécifique de cette inefficacité. Par ailleurs, si cela est théoriquement possible, il faut un shunt passablement important pour influencer significativement l’espace mort calculé par la formule de Enghoff <span class="citation" data-cites="tang2005">(<a href="#ref-tang2005" role="doc-biblioref">Tang, Turner, et Baker 2005</a>)</span>.</p>
<p>Si la formule de Bohr pour l’espace mort a grandement contribué à l’étude de la physiologie pulmonaire, ce n’était pas le sujet principal de l’article où elle apparaît. Elle ne constitue qu’un détail méthodologique de cet article. Dans l’article question, Bohr soutient la thèse (en vogue à l’époque) selon laquelle le poumon sécrète activement (tel une glande) l’oxygène dans le sang et le gaz carbonique dans les alvéoles, à rebours de leurs gradients de pression respectifs. Comme quoi on peut avoir raison sur un sujet et être <em>dans les patates</em> sur un autre sujet.</p>
<section id="bibliographie" class="level1">




</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Bibliographie</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-bohr1891" class="csl-entry" role="listitem">
Bohr, Christian. 1891. <span>«&nbsp;Ueber Die <span>Lungenathmung</span> <span><sup>1</sup></span>&nbsp;»</span>. <em>Skandinavisches Archiv Für Physiologie</em> 2 (1): 236‑68. <a href="https://doi.org/10.1111/j.1748-1716.1891.tb00581.x">https://doi.org/10.1111/j.1748-1716.1891.tb00581.x</a>.
</div>
<div id="ref-enghoff1938" class="csl-entry" role="listitem">
Enghoff, Henrik. 1938. <span>«&nbsp;Volumen Inefficax&nbsp;»</span>. <em>Upsala Lakaref Forh</em> 44: 191‑218.
</div>
<div id="ref-tang2005" class="csl-entry" role="listitem">
Tang, Y., M. J. Turner, et A. B. Baker. 2005. <span>«&nbsp;Effects of Alveolar Dead-Space, Shunt and <span>V</span>/<span>Q</span>distribution on Respiratory Dead-Space Measurements&nbsp;»</span>. <em>British Journal of Anaesthesia</em> 95 (4): 538‑48. <a href="https://doi.org/10.1093/bja/aei212">https://doi.org/10.1093/bja/aei212</a>.
</div>
<div id="ref-west2019" class="csl-entry" role="listitem">
West, John B. 2019. <span>«&nbsp;Three Classical Papers in Respiratory Physiology by <span>Christian Bohr</span> (1855) Whose Work Is Frequently Cited but Seldom Read&nbsp;»</span>. <em>American Journal of Physiology-Lung Cellular and Molecular Physiology</em> 316 (4): L585‑88. <a href="https://doi.org/10.1152/ajplung.00527.2018">https://doi.org/10.1152/ajplung.00527.2018</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notes de bas de page</h2>

<ol>
<li id="fn1"><p>Lire <em>John B. West</em> qui parle de <em>Christian Bohr</em>, c’est ce qu’on appelle être en bonne compagnie !<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Si tant est que cela soit possible de connaître cette PCO₂ alvéolaire.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Réutilisation</h2><div class="quarto-appendix-contents"><div>Tous droits réservés</div></div></section><section class="quarto-appendix-contents" id="quarto-copyright"><h2 class="anchored quarto-appendix-heading">Droits d'auteur</h2><div class="quarto-appendix-contents"><div>Nicolas Blais St-Laurent</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/progrt\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>