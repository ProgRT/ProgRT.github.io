\usetikzlibrary{graphs, graphdrawing}
\usegdlibrary{trees}

\def\datadi{"data/1628779222908-parsed.dat"}
\def\datadchf{"data/1648112239967-parsed.dat"}
\def\adcbf{captures/screenshot_2022-04-02_09-59-56-waveforms.png}

\def\figad#1{%
	\begin{tikzpicture}

		\begin{groupplot}[
			group style={
				group size=1 by 2,
				xlabels at=edge bottom,
			},
			height=0.40\textheight,
			xlabel=Temps (s),
			]

			\nextgroupplot[ymin=0,ylabel=Pression (hPa)]
			\addplot [vertchum] table[x index=0, y index=2] {#1};

			\nextgroupplot[ylabel=Débit (l/m)]
			\addplot [bleuclairchum] table[x index=0, y index=3] {#1};

		\end{groupplot}
	\end{tikzpicture}
}

\def\figadchf{%
	\figad{\datadchf}
}
\def\figadi{%
	\figad{\datadi}
}

\begin{frame}{Classification de Nicolas\footnote{Publié dans \emph{aucune} revue prestigieuse}}
	\centering
\begin{tikzpicture}[
		anchor=west,
		grow'=right,
		child anchor=west,
		level distance=0mm,
		sibling distance=1.1cm,
		every node/.style={
			fill=vertchum,
			draw=black,
			text=black,
			yshift=-1.8cm,
			rounded corners,
			inner sep=2mm
		},
		edge from parent path= {(\tikzparentnode.-160) |-
		(\tikzchildnode.west)}
	]
	\node {Autodéclenchement}
		child {node {1 - Intermitent}}
		child {node {2 - Continue}
		child {node {2.a - Basse fréquence}}
		child {node {2.b - Haute fréquence}}
		};
\end{tikzpicture}

\end{frame}

\begin{frame}{Autodéclenchement intermitent (type 1)}
	\figadi
\end{frame}

\begin{frame}{Autodécl. continue à basse fréquence (type 2.a)}
	\includegraphics[width=\textwidth, trim=0 260 0 0, clip]{\adcbf}
\end{frame}

\begin{frame}{Autodécl. continue à haute fréquence (type 2.b)}
	\figadchf
\end{frame}
